<div class="container">
    <div class="options">
        <p-toolbar>
            <ng-template pTemplate="start">
                <div class="toolbar-buttons">
                    <p-avatar
                        pRipple
                        icon="pi pi-plus"
                        class="secondary hov-p"
                        (click)="btnNew()">
                    </p-avatar>
                    <p-avatar
                        pRipple
                        icon="pi pi-pencil"
                        class="secondary hov-p"
                        (click)="btnEdit()">
                    </p-avatar>
                    <p-avatar
                        pRipple
                        icon="pi pi-minus"
                        class="tertiary hov-p"
                        (click)="btnDell()">
                    </p-avatar>
                </div>
            </ng-template>
            <ng-template pTemplate="end">
                <p-iconField>
                    <p-inputIcon styleClass="pi pi-search"/>
                    <input pInputText placeholder="Buscar Cliente"/>
                </p-iconField>
            </ng-template>
        </p-toolbar>
    </div>
    <div class="list-clients">
        <p-button icon="pi pi-replay" class="primary" size="small" (onClick)="cleamTable()" />
        <p-table 
            #dt
            [value]="clients"
            [metaKeySelection]="true"
            [scrollable]="true"
            [scrollHeight]="'400px'"
            styleClass="p-datatable-lg"
            [(selection)]="selectedClient"
            [selectionMode]="'single'"
            dataKey="id"
            >
            <ng-template pTemplate="header">
                <th pSortableColumn="name">
                    Nome <p-sortIcon field="name"/>
                </th>
                <th>
                    Celular
                </th>
                <th pSortableColumn="rating">
                    Avaliação <p-sortIcon field="rating"/>
                </th>
            </ng-template>
            <ng-template pTemplate="body" let-client>
                <tr [pSelectableRow]="client">
                    <th>{{client.name}}</th>
                    <th>{{client.number}}</th>
                    <th>
                        <p-rating 
                        [(ngModel)]="client.rating"
                        [readonly]="true"
                        [cancel]="false"
                        />
                    </th>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>

<p-dialog
[(visible)]="newClientV"
[style]="{ 'width': '50vw' }"
[breakpoints]="{ '800px': '90vw'}"
header="Crie um novo cliente:">
    <ng-template pTemplate="content">
        <div class="field">

        </div>
    </ng-template>
    <ng-template pTemplate="footer">
    
    </ng-template>
</p-dialog>
